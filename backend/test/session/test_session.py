import jwt
import pytest
from pytest_mock import MockerFixture


@pytest.mark.asyncio
async def test_extract_access_token(
    mocker: MockerFixture,
    monkeypatch: pytest.MonkeyPatch,
    caplog: pytest.LogCaptureFixture,
):
    token = "eyJ0eXAiOiJKV1QiLCJub25jZSI6InFnVHg1eDBUWVJBREJRa0dHa2ctVTRwSTBEdzNnT0o0cWJMUkZtajhrSUUiLCJhbGciOiJSUzI1NiIsIng1dCI6IlBjWDk4R1g0MjBUMVg2c0JEa3poUW1xZ3dNVSIsImtpZCI6IlBjWDk4R1g0MjBUMVg2c0JEa3poUW1xZ3dNVSJ9.eyJhdWQiOiJodHRwczovL2dyYXBoLm1pY3Jvc29mdC5jb20iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9kMDViYzE5NC05NGJmLTRhZDYtYWUyZS0xZGIwZjJlMzhmNWUvIiwiaWF0IjoxNzY5MDE5MzM3LCJuYmYiOjE3NjkwMTkzMzcsImV4cCI6MTc2OTAyNDUyOSwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQWFRQVcvOGJBQUFBakN2c1VmdmNQSVJtVG5NaVpnNzBrTFkzWTFULzdHeVZyRGRiMDd6cWRFLzhOMkVycHNkZWUxaFNhcWwxY2JKMzIxYWdGdjF3ZlZKdHJZMFIwc0xlMXRySkFBcXJRK1hwbHVjU1YrWTYxeGZ0SDR0MDRBZERVSVY5ZjFqWkt1SEhOTU14SDJ0d0psaVN3WUNONGwrWHBmWCs0OFRobitiUjRlNmtGNkpySnJmSm5sWXB0WTI5TUpvNktwTXdnNTBZMmNsQnVQVlRuS0gzZGVPQkoxT0tSQT09IiwiYW1yIjpbInB3ZCIsInJzYSIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJTY1NjLURTQUktQ2FuQ2hhdC1hc3YiLCJhcHBpZCI6IjcyZmI5M2U4LWZiNjEtNDhmOC1iYzY3LThkZjlkOTcxZGQ0MCIsImFwcGlkYWNyIjoiMSIsImRldmljZWlkIjoiMGY4ZThjYTktNDlhMy00ZGIyLThiZmMtNzQzNzAyZmY3ZjMxIiwiZmFtaWx5X25hbWUiOiJCZXJ0cmFuZCIsImdpdmVuX25hbWUiOiJKdXN0aW4iLCJpZHR5cCI6InVzZXIiLCJpbl9jb3JwIjoidHJ1ZSIsImlwYWRkciI6IjE3NC4xMTQuNTUuMjQzIiwibmFtZSI6IkJlcnRyYW5kLCBKdXN0aW4gKFNTQy9TUEMpIiwib2lkIjoiOWIxZmEzYzgtYzYyNC00ZWM5LTgxMTktNTA4ODFhY2U1Y2I3Iiwib25wcmVtX3NpZCI6IlMtMS01LTIxLTEwOTc3NDY2MjItOTE0MzgzNTk3LTE0ODEyNjg0MDItNDIxMzY4IiwicGxhdGYiOiIzIiwicHVpZCI6IjEwMDMyMDAzNDhGMzkwMkYiLCJyaCI6IjEuQVNrQWxNRmIwTC1VMWtxdUxoMnc4dU9QWGdNQUFBQUFBQUFBd0FBQUFBQUFBQUQ0QUgwcEFBLiIsInNjcCI6ImVtYWlsIG9wZW5pZCBwcm9maWxlIFVzZXIuUmVhZCIsInNpZCI6IjAwOWQ1OTU5LTdmN2YtM2I0ZS0yNzA5LTg0MDZlOGFlZGUyNCIsInNpZ25pbl9zdGF0ZSI6WyJkdmNfbW5nZCIsImR2Y19jbXAiLCJrbXNpIl0sInN1YiI6IkRPdVNzckU0UnVXYlEwWE1jbFk3SkpvQWNNXzFWZmJBbVc4TXBBaUxzem8iLCJ0ZW5hbnRfcmVnaW9uX3Njb3BlIjoiTkEiLCJ0aWQiOiJkMDViYzE5NC05NGJmLTRhZDYtYWUyZS0xZGIwZjJlMzhmNWUiLCJ1bmlxdWVfbmFtZSI6Imp1c3Rpbi5iZXJ0cmFuZEBzc2Mtc3BjLmdjLmNhIiwidXBuIjoianVzdGluLmJlcnRyYW5kQHNzYy1zcGMuZ2MuY2EiLCJ1dGkiOiItXzI5b3d6THVrYXhDU0FRa2o0TEFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2FjZCI6MTY5MjE5NjU5MiwieG1zX2FjdF9mY3QiOiI5IDMiLCJ4bXNfZnRkIjoiS0s5Ri05amdJVXFZREI4U01iaFBwaWp4TFU3RTIyV1VpLW96TUlib1VUY0JkWE4zWlhOME15MWtjMjF6IiwieG1zX2lkcmVsIjoiMSAxNCIsInhtc19zdCI6eyJzdWIiOiIyUWNIakNGdm5HOEt5LXVVdHNaejJHbEtvYVFZcmNkUlVRT1k2R1JlcUJFIn0sInhtc19zdWJfZmN0IjoiMyA0IiwieG1zX3RjZHQiOjE0OTg1ODc2NDUsInhtc190bnRfZmN0IjoiOCAzIn0.dPNiQvVP-TGRQS9r7ex6fXrrC6_IOOVLq9I7VYXW-Z853hT6wdI6Vc4DDOK19ceA0LYXxiY9uYvdaUtHBG0ouAgVuA83G3-K-hNRZyk4nuhYrBfZTP_E22HXMmYgUt5L-xHllQGawdXjlbkghaPRgchiXjNukv-K8lge5knXoPzufSQhet7qPS6aEYcqcfSc0TA01pVn4fkGuhft4pnpNm78PBLpPd3m0YoDSfRCyxK6byPfti5gmQkAQU3EDjhG4LgnuRi979c3YEueqFxUybhg4hYBxyF6ipWb8sN2c7CVfsLPJnZC4HoNDcyoUy1EIpAJcruWHlcC12fHIDw6FQ"

    token_decoded = jwt.decode(token, options={"verify_signature": False})

    print(token_decoded)
